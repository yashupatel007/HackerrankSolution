long largestRectangle(vector<int> h) {
    int n=h.size();
   int maxarea=0;
  
    for(int i=0;i<n;i++){
        int height=h[i];
        int left=i;
        int right=i;
        while( left>0 && h[left-1]>=height )
           left--;
        while( right<n-1 && h[right+1]>=height)
           right++;
          int base=(right-left)+1;
         int area=height*base;
        maxarea=max(maxarea,area);
    }
    return maxarea;
}
